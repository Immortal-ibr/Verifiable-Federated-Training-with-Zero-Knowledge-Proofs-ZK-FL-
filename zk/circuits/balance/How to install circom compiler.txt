# 1. Install Rust (takes 5 min)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source $HOME/.cargo/env

# 2. Install Circom (takes 10 min)
git clone https://github.com/iden3/circom.git
cd circom
cargo build --release
cargo install --path circom

# 3. Verify installation
circom --version
# Should show: circom compiler 2.x.x

# 4. Install snarkjs globally (takes 2 min)
npm install -g snarkjs

# 5. Test with Component A (takes 30 min first time)
cd "/Users/ahmedelbehiry/Documents/Applied Cryotography/Verifiable-Federated-Training-with-Zero-Knowledge-Proofs-ZK-FL-"

# Compile the small test circuit first (faster)
circom zk/circuits/balance/balance_test.circom --r1cs --wasm --sym -o build/test

# Then compile the full circuit
circom zk/circuits/balance/balance.circom --r1cs --wasm --sym -o build/balance

# Check it worked
snarkjs r1cs info build/balance/balance.r1cs